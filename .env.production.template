# Production environment variables template for VPS deployment
# Copy this file to .env.production and fill in your values

# Rails Configuration
RAILS_ENV=production
RACK_ENV=production
NODE_ENV=production

# Security
SECRET_KEY_BASE=your_secret_key_base_here_use_rails_secret_generate
RAILS_MASTER_KEY=your_master_key_here

# Database Configuration
DATABASE_URL=postgresql://missionary_user:your_password@db:5432/missionary_platform_production
POSTGRES_USER=missionary_user
POSTGRES_PASSWORD=your_secure_database_password
POSTGRES_DB=missionary_platform_production

# Redis Configuration
REDIS_URL=redis://redis:6379/0
REDIS_PASSWORD=your_redis_password

# Email Configuration (choose one provider)
# SendGrid
SENDGRID_API_KEY=your_sendgrid_api_key
# Or Mailgun
MAILGUN_API_KEY=your_mailgun_api_key
MAILGUN_DOMAIN=your_domain.com
# Or SMTP
SMTP_HOST=smtp.your-provider.com
SMTP_PORT=587
SMTP_USERNAME=your_email@domain.com
SMTP_PASSWORD=your_email_password

# Application URLs
RAILS_HOST=your-domain.com
RAILS_PORT=3000
FORCE_SSL=true

# Performance Settings
WEB_CONCURRENCY=2
RAILS_MAX_THREADS=5
SIDEKIQ_CONCURRENCY=10

# File Storage (if using cloud storage)
# AWS S3
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_REGION=us-east-1
AWS_BUCKET=your-bucket-name

# Rate Limiting
RACK_ATTACK_REDIS_URL=redis://redis:6379/1

# Monitoring (optional)
# Sentry
SENTRY_DSN=your_sentry_dsn
# New Relic
NEW_RELIC_LICENSE_KEY=your_newrelic_key

# SSL/TLS (if terminating SSL at Rails level)
SSL_CERT_PATH=/path/to/ssl/cert.pem
SSL_KEY_PATH=/path/to/ssl/private.key

# Backup Configuration
BACKUP_RETENTION_DAYS=7
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM

# Resource Monitoring
MEMORY_LIMIT_MB=6144  # 6GB limit for Rails processes
CPU_LIMIT_PERCENT=80

# Cache Settings
CACHE_STORE=redis_cache_store
CACHE_EXPIRES_IN=1800  # 30 minutes

# Session Configuration
SESSION_TIMEOUT=86400  # 24 hours
SECURE_SESSIONS=true

# CORS Settings (if needed for API)
CORS_ALLOWED_ORIGINS=https://your-domain.com,https://www.your-domain.com

# Time Zone
TZ=UTC

# Log Level
LOG_LEVEL=info

# Health Check Configuration
HEALTH_CHECK_PORT=3001
HEALTH_CHECK_PATH=/health
